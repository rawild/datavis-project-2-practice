{"version":3,"file":"bundle.js","sources":["../src/js/store/actions.js","../src/js/store/mutations.js","../src/js/lib/beedle.js","../src/js/store/index.js","../src/js/store/state.js","../src/js/lib/component.js","../node_modules/d3/node_modules/d3-array/src/ascending.js","../node_modules/d3/node_modules/d3-array/src/bisect.js","../node_modules/d3/node_modules/d3-array/src/bisector.js","../node_modules/d3/node_modules/d3-array/src/descending.js","../node_modules/d3/node_modules/d3-array/src/sum.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-chord/node_modules/d3-array/src/ascending.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-chord/node_modules/d3-array/src/bisector.js","../node_modules/d3-chord/node_modules/d3-array/src/bisect.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-contour/node_modules/d3-array/src/ascending.js","../node_modules/d3-contour/node_modules/d3-array/src/bisector.js","../node_modules/d3-contour/node_modules/d3-array/src/bisect.js","../node_modules/d3-force/src/constant.js","../node_modules/d3-force/src/jiggle.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/link.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/d3-scale/node_modules/d3-array/src/ascending.js","../node_modules/d3-scale/node_modules/d3-array/src/bisect.js","../node_modules/d3-scale/node_modules/d3-array/src/bisector.js","../node_modules/d3-scale/node_modules/d3-array/src/range.js","../node_modules/d3-scale/node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/sequential.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/categorical/category10.js","../node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../src/js/components/numberheader1.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/identity.js","../node_modules/d3-array/src/group.js","../node_modules/d3-array/src/greatest.js","../src/js/components/donorbar.js","../src/js/components/donorbubble.js","../src/js/components/sidepanel.js","../node_modules/scrollama/src/debug.js","../node_modules/scrollama/src/init.js","../node_modules/scrollama/src/dom.js","../node_modules/intersection-observer/intersection-observer.js","../src/js/components/donorscrolly.js","../src/js/components/candidatescrolly.js","../src/js/components/donortree.js","../src/js/components/quartiletree.js","../src/js/components/corruptscrolly.js","../src/js/components/header.js","../src/js/components/sectionheader.js","../src/js/components/candidatebar.js","../src/js/components/corruptnetwork.js","../node_modules/d3-force/src/manyBody.js","../node_modules/d3-force/src/x.js","../node_modules/d3-force/src/y.js","../src/main.js"],"sourcesContent":["export default {\n    addTopDonors(context, payload) {\n        context.commit('addTopDonors', payload);\n    },\n    addElecteds(context, payload) {\n        context.commit('addElecteds', payload);\n    },\n    addDonorNames(context, payload) {\n        context.commit('addDonorNames', payload)\n    },\n    addTopCandidates(context, payload){\n        context.commit('addTopCandidates', payload)\n    },\n    addDonors(context, payload) {\n        context.commit('addDonors', payload)\n    },\n    addCuomoDonors(context, payload) {\n        context.commit('addCuomoDonors', payload)\n    },\n    addQuartiles(context,payload){\n        context.commit('addQuartiles', payload)\n    },\n    setCandidateColors(context,payload){\n        context.commit('setCandidateColors', payload)\n    },\n    \n};\n","export default {\n    addTopDonors(state, payload) {\n        state.topDonors=payload;\n        return state;\n    },\n    addElecteds(state, payload) {\n        state.electeds = payload;\n        return state;\n    },\n    addDonorNames(state, payload){\n        state.donorNames= payload;\n        return state;\n    },\n    addTopCandidates(state, payload){\n        state.topCandidates = payload;\n        return state;\n    },\n    addDonors(state, payload){\n        state.donors= payload;\n        return state;\n    },\n    addCuomoDonors(state, payload){\n        state.cuomoDonors= payload;\n        return state;\n    },\n    addQuartiles(state, payload){\n        state.quartiles= payload;\n        return state;\n    },\n    setCandidateColors(state,payload){\n        state.candidateColors = payload;\n        return state;\n    }\n\n};\n","export default class Store {\n    constructor(params) {\n        const self = this;\n\n        // Add some default objects to hold our actions, mutations and state\n        self.actions = {};\n        self.mutations = {};\n        self.state = {};\n\n        // A status enum to set during actions and mutations\n        self.status = 'resting';\n\n        // We store callbacks for when the state changes in here\n        self.callbacks = {};\n\n        // Look in the passed params object for actions and mutations\n        // that might have been passed in\n        if(params.hasOwnProperty('actions')) {\n            self.actions = params.actions;\n        }\n\n        if(params.hasOwnProperty('mutations')) {\n            self.mutations = params.mutations;\n        }\n\n        // Set our state to be a Proxy. We are setting the default state by\n        // checking the params and defaulting to an empty object if no default\n        // state is passed in\n        self.state = new Proxy((params.initialState || {}), {\n            set(state, key, value) {\n\n                // Set the value as we would normally\n                state[key] = value;\n\n                // Fire off our callback processor because if there's listeners,\n                // they're going to want to know that something has changed\n                self.processCallbacks(self.state, key);\n\n                // Reset the status ready for the next operation\n                self.status = 'resting';\n\n                return true;\n            }\n        });\n    }\n\n    /**\n     * A dispatcher for actions that looks in the actions\n     * collection and runs the action if it can find it\n     *\n     * @param {string} actionKey\n     * @param {mixed} payload\n     * @returns {boolean}\n     * @memberof Store\n     */\n    dispatch(actionKey, payload) {\n\n        const self = this;\n\n        // Run a quick check to see if the action actually exists\n        // before we try to run it\n        if(typeof self.actions[actionKey] !== 'function') {\n            console.error(`Action \"${actionKey}\" doesn't exist.`);\n            return false;\n        }\n\n        // Let anything that's watching the status know that we're dispatching an action\n        self.status = 'action';\n\n        // Actually call the action and pass it the Store context and whatever payload was passed\n        return self.actions[actionKey](self, payload);\n    }\n\n    /**\n     * Look for a mutation and modify the state object\n     * if that mutation exists by calling it\n     *\n     * @param {string} mutationKey\n     * @param {mixed} payload\n     * @returns {boolean}\n     * @memberof Store\n     */\n    commit(mutationKey, payload) {\n        const self = this;\n\n        // Run a quick check to see if this mutation actually exists\n        // before trying to run it\n        if(typeof self.mutations[mutationKey] !== 'function') {\n            console.error(`Mutation \"${mutationKey}\" doesn't exist`);\n            return false;\n        }\n\n        // Let anything that's watching the status know that we're mutating state\n        self.status = 'mutation';\n\n        // Get a new version of the state by running the mutation and storing the result of it\n        let newState = self.mutations[mutationKey](self.state, payload);\n\n        // Update the old state with the new state returned from our mutation\n        self.state = newState;\n\n        return true;\n    }\n\n    /**\n     * Fire off each callback that's run whenever the state changes\n     * We pass in some data as the one and only parameter.\n     * Returns a boolean depending if callbacks were found or not\n     *\n     * @param {object} data\n     * @returns {boolean}\n     */\n    processCallbacks(data, key) {\n        const self = this;\n       // console.log(\"processing callbacks\")\n       // console.log(\"key\", key)\n        if(!self.callbacks[key]) {\n            return false;\n        }\n\n        // We've got callbacks, so loop each one and fire it off\n        self.callbacks[key].forEach(callback => callback(data));\n\n        return true;\n    }\n\n    /**\n     * Allow an outside entity to subscribe to state changes with a valid callback.\n     * Returns boolean based on wether or not the callback was added to the collection\n     *\n     * @param {function} callback\n     * @returns {boolean}\n     */\n    subscribe(callback, key) {\n        const self = this;\n        //console.log(\"subscribing\")\n        //console.log(\"key\", key)\n        if(typeof callback !== 'function') {\n            console.error('You can only subscribe to Store changes with a valid function');\n            return false;\n        }\n\n        if (!self.callbacks[key]) { //initialize the array\n            self.callbacks[key] = []\n        }\n        // A valid function, so it belongs in our collection\n        self.callbacks[key].push(callback);\n\n        return true;\n    }\n}\n","import actions from './actions.js';\nimport mutations from './mutations.js';\nimport initialState from './state.js';\nimport Store from '../lib/beedle.js';\n\nexport default new Store({\n    actions,\n    mutations,\n    initialState\n});\n","export default {\n   summary: {\n       total_money: 104006295.50,\n       total_candidates: 86,\n       total_donors: 53361\n   }\n};\n","// We're importing the store Class here so we can test against it in the constructor\nimport Store from './beedle.js';\n\nexport default class Component {\n    constructor(props = {}) {\n        let self = this;\n\n        // We're setting a render function as the one set by whatever inherits this base\n        // class or setting it to an empty by default. This is so nothing breaks if someone\n        // forgets to set it.\n        this.render = this.render || function() {};\n        \n        // If there's a store passed in, subscribe to the state change\n        if(props.store instanceof Store && props.hasOwnProperty('key')) {\n            props.store.subscribe(() => self.render(), props.key);\n        }\n        \n        // Store the HTML element to attach the render to if set\n        if(props.hasOwnProperty('element')) {\n            this.element = props.element;\n        }\n    }\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export var slice = Array.prototype.slice;\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle, slice} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(slice.call(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {identity} from \"./continuous\";\nimport {initInterpolator} from \"./init\";\nimport {linearish} from \"./linear\";\nimport {loggish} from \"./log\";\nimport {symlogish} from \"./symlog\";\nimport {powish} from \"./pow\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (t0 = transform(x0 = +_[0]), t1 = transform(x1 = +_[1]), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\n\nexport default class NumberHeader extends Component {\n    constructor() {\n        super({\n            store,\n            element: d3.select('#number-header'),\n            key: \"summary\"\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n        let self = this;\n\n        self.element.append(\"div\")\n            .attr(\"class\",\"number bottom\")\n            .html(`<span class=\"big\">$${self.local.format(store.state.summary.total_money)} </span> \n            <div class=\"middle-text\">\n                in <br> \n                donations <br>\n                from </div> \n            <span class=\"big\"> ${self.local.format(store.state.summary.total_donors)} </span> \n            <div class=\"end-text\">donors</div>`\n            )\n        self.element.append(\"div\")\n            .attr(\"class\",\"number bottom\")\n            .html(`<span class=\"bigger-end-text\"> to </span> \n            <span class=\"bigger\">${store.state.summary.total_candidates} </span> \n            <span class=\"bigger-middle-text\">candidates <br>over</span>\n            <span class=\"bigger\">5</span> \n            <span class=\"bigger-end-text\">years</span>`)\n\n\n    }\n   \n    \n}","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new Map();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport * as d3array from 'd3-array';\n\nexport default class DonorBar extends Component {\n    constructor() {\n        super({\n            store,\n            element: d3.select(\"#figuredonor\"),\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n            paddingInner : 0.2,\n            margin : { top: 20, bottom: 20, left: 300, right:140 },\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n        let self = this;\n        self.element.selectAll(\"*\").remove()\n        console.log(\"donorbar rendering\")\n        let width = self.element.node().getBoundingClientRect().width\n        let height = self.element.node().getBoundingClientRect().height-30\n        /* Get the donor bar chart data*/ \n        self.element.append(\"div\")\n            .attr(\"class\",\"header-2\")\n            .text(\"Donors who gave more than $500,000\")\n        let donors = d3array.rollup(store.state.topDonors,  \n            v =>  d3.sum(v, d => d.Total),\n            d => parseInt(d.Cluster_ID))\n        let most = d3array.greatest(donors, ([,sum]) => sum)\n        donors = Array.from(donors)\n        donors = donors.sort((a,b) => d3.descending(a[1],b[1]))\n        let yScale = d3\n            .scaleBand()\n            .domain(store.state.donorNames.map(d=>d.Name))\n            .range(donors.length > 1 ? [self.local.margin.top, height - self.local.margin.bottom]:[self.local.margin.top,60])\n            .paddingInner(self.local.paddingInner);\n        let xScale = d3\n            .scaleLinear()\n            .domain([0,most[1]])\n            .range([self.local.margin.left, width - self.local.margin.right]);\n        let yAxis = d3.axisLeft(yScale).tickSize(0).tickPadding(20).tickValues(store.state.donorNames.map(d=>d.Name));\n        let svg = self.element\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n        //append rects\n        let bars = svg\n            .selectAll(\"g.bar\")\n            .data(donors)\n            .join(\n                enter =>\n                    enter\n                    .append(\"g\")\n                    .attr(\"class\", \"bar\")\n                    .call(enter => enter.append(\"rect\"))\n                    .call(enter => enter.append(\"text\")),\n                    \n            update => update,\n            exit => exit.remove()\n            )\n        \n        bars\n            .attr(\n                \"transform\",\n                d => {\n                    return `translate(${xScale(0)}, ${yScale(store.state.donorNames.filter( x => x.Cluster_ID == d[0])[0].Name)})`\n                }\n            )\n        bars\n            .select(\"rect\")\n            .transition()\n            .duration(0)\n            .attr(\"height\", yScale.bandwidth())\n            .attr(\"width\", d => xScale(d[1])- xScale(0))\n            .attr(\"id\", d => \"donor\"+d[0] )\n\n        bars\n            .select(\"text\")\n            .attr(\"class\",\"label\")\n            .attr(\"dy\", yScale.bandwidth()/2+4)\n            .attr(\"x\", d=>xScale(d[1])-xScale(0)+10)\n            .text(d => `$${self.local.format(d[1])}`)\n        \n        // append Y axis\n        let g = svg.append(\"g\")\n            g.attr(\"class\", \"axis-left\")\n            .attr(\"transform\", `translate(${xScale(0)},0)`)\n            .call(yAxis)\n            .select(\".domain\").remove()\n            g.selectAll(\".tick text\")\n            .classed(\"tick-donors\", true)    \n        }\n    }\n   \n    \n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport * as d3array from 'd3-array';\n\nexport default class DonorBubble extends Component {\n    constructor(donor) {\n        super({\n            store,\n            element: d3.select(\"#figuredonor\"),\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n            paddingInner : 0.2,\n            margin : { top: 20, bottom: 20, left: 300, right:140 },\n            donor: donor,\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n        let self = this;\n        self.element.selectAll(\"*\").remove()\n        console.log(\"donorbubble rendering\")\n        let width = self.element.node().getBoundingClientRect().width\n        let height = self.element.node().getBoundingClientRect().height-50\n        let donorName = store.state.donorNames.filter(d=>d.Cluster_ID == self.local.donor)[0].Name\n        let donations = store.state.topDonors.filter(d => d.Cluster_ID == self.local.donor)\n\n        /* Get the donor bar chart data*/ \n        self.element.append(\"div\")\n            .attr(\"class\",\"header-2 chart-title\")\n            .text(\"Recipients of \" + donorName + \" Money\")\n\n        let recipients = d3array.rollups(donations,  \n            v =>  ({Total: d3.sum(v, d => d.Total), donations:v}), // reduce function,\n            d => d.Candidate_ID)\n        \n        let uniqueCandidates = [...new Set(donations.map(d => d.Candidate_ID))];\n        let colorScale = d3\n                .scaleOrdinal()\n                .domain(uniqueCandidates)\n                .range(d3.schemeCategory10);\n        let root = d3\n            .hierarchy([null, recipients], ([key, values]) => values) // children accessor, tell it to grab the second element\n            .sum(([key, values]) => values.Total) // sets the 'value' of each level\n            .sort((a, b) => b.value - a.value);\n        \n        \n\n        // make bubble map layout generator\n        const pack = d3\n        .pack()\n        .size([width, height])\n        .padding(1)\n        // call our generator on our root hierarchy node\n        pack(root); // creates our coordinates and dimensions based on the heirarchy and tiling algorithm\n\n        \n        let svg = self.element\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n\n        // create g for each leaf\n        const leaf = svg\n            .selectAll(\"g\")\n            .data(root.leaves())\n            .join(\"g\")\n            .attr(\"transform\", d => `translate(${d.x},${d.y})`);\n\n        leaf\n            .append(\"circle\")\n            .attr(\"fill-opacity\", 0.9)\n            .attr(\"fill\", d => store.state.candidateColors(d.data[1].donations[0].Candidate_ID)) // take the genre from the first one in the group\n            .attr(\"r\", d => d.r)\n        leaf\n            .append(\"text\")\n            .text(d => { \n                if (d.r < 35) {\n                    return \" \"\n                }\n                return (\n                    store.state.electeds.filter(x => x.Elected_Id == d.data[1].donations[0].Candidate_ID)[0].First_Name\n                    )\n                })\n            .attr(\"dy\", \"-1.1em\")\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"font-family\",  \"Gill Sans\", \"Gill Sans MT\")\n            .attr(\"font-size\", \"14\")\n            .attr(\"fill\", \"white\");\n        leaf\n            .append(\"text\")\n            .html(d => {\n                if (d.r < 35) {\n                    return \" \"\n                }\n                return (\n                    `${store.state.electeds.filter(x => x.Elected_Id == d.data[1].donations[0].Candidate_ID)[0].Last_Name}`\n                    )\n                })\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"font-family\",  \"Gill Sans\", \"Gill Sans MT\")\n            .attr(\"font-size\" ,d => d.data[1].donations[0].Candidate_ID==26 ? \"10\":\"14\")\n            .attr(\"fill\", \"white\");\n        leaf\n            .append(\"text\")\n            .text(d => {\n                if (d.r < 35) {\n                    return \" \"\n                }\n                return \"$\" + self.local.format(d.data[1].Total)\n                })\n            .attr(\"dy\", \"1.1em\")\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"font-family\",  \"Gill Sans\", \"Gill Sans MT\")\n            .attr(\"font-size\", \"14\")\n            .attr(\"font-weight\", \"bold\")\n            .attr(\"fill\", \"white\");\n            \n        }\n    }\n   \n    \n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\n\nexport default class SidePanel extends Component {\n    constructor(value) {\n        super({\n            store,\n            element: d3.select(\"[data-step =\\\"\" +value+\"\\\" ]\")\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render(header, body, titleClass, bodyClass) {\n        let self = this;\n        //console.log(self.element)\n        self.element.insert(\"div\", \":first-child\")\n            .attr(\"class\",\"side-panel \"+bodyClass)\n            .html(`${body}`)\n        self.element.insert(\"div\",\":first-child\")\n            .attr(\"class\",\"header-2 article-title \"+titleClass)\n            .text(header)\n        \n    }\n   \n    \n}","function getOffsetId(id) {\n  return `scrollama__debug-offset--${id}`;\n}\n\n// SETUP\nfunction setupOffset({ id, offsetVal, stepClass }) {\n  const el = document.createElement(\"div\");\n  el.id = getOffsetId(id);\n  el.className = \"scrollama__debug-offset\";\n  el.style.position = \"fixed\";\n  el.style.left = \"0\";\n  el.style.width = \"100%\";\n  el.style.height = \"0\";\n  el.style.borderTop = \"2px dashed black\";\n  el.style.zIndex = \"9999\";\n\n  const p = document.createElement(\"p\");\n  p.innerHTML = `\".${stepClass}\" trigger: <span>${offsetVal}</span>`;\n  p.style.fontSize = \"12px\";\n  p.style.fontFamily = \"monospace\";\n  p.style.color = \"black\";\n  p.style.margin = \"0\";\n  p.style.padding = \"6px\";\n  el.appendChild(p);\n  document.body.appendChild(el);\n}\n\nfunction setup({ id, offsetVal, stepEl }) {\n  const stepClass = stepEl[0].className;\n  setupOffset({ id, offsetVal, stepClass });\n}\n\n// UPDATE\nfunction update({ id, offsetMargin, offsetVal, format }) {\n  const post = format === \"pixels\" ? \"px\" : \"\";\n  const idVal = getOffsetId(id);\n  const el = document.getElementById(idVal);\n  el.style.top = `${offsetMargin}px`;\n  el.querySelector(\"span\").innerText = `${offsetVal}${post}`;\n}\n\nfunction notifyStep({ id, index, state }) {\n  const prefix = `scrollama__debug-step--${id}-${index}`;\n  const elA = document.getElementById(`${prefix}_above`);\n  const elB = document.getElementById(`${prefix}_below`);\n  const display = state === \"enter\" ? \"block\" : \"none\";\n\n  if (elA) elA.style.display = display;\n  if (elB) elB.style.display = display;\n}\n\nexport { setup, update, notifyStep };\n","import { selectAll } from \"./dom\";\nimport * as bug from \"./debug\";\n\nfunction scrollama() {\n  const OBSERVER_NAMES = [\n    \"stepAbove\",\n    \"stepBelow\",\n    \"stepProgress\",\n    \"viewportAbove\",\n    \"viewportBelow\"\n  ];\n\n  let cb = {};\n  let io = {};\n\n  let id = null;\n  let stepEl = [];\n  let stepOffsetHeight = [];\n  let stepOffsetTop = [];\n  let stepStates = [];\n\n  let offsetVal = 0;\n  let offsetMargin = 0;\n  let viewH = 0;\n  let pageH = 0;\n  let previousYOffset = 0;\n  let progressThreshold = 0;\n\n  let isReady = false;\n  let isEnabled = false;\n  let isDebug = false;\n\n  let progressMode = false;\n  let preserveOrder = false;\n  let triggerOnce = false;\n\n  let direction = \"down\";\n  let format = \"percent\";\n\n  const exclude = [];\n\n  /* HELPERS */\n  function err(msg) {\n    console.error(`scrollama error: ${msg}`);\n  }\n\n  function reset() {\n    cb = {\n      stepEnter: () => {},\n      stepExit: () => {},\n      stepProgress: () => {}\n    };\n    io = {};\n  }\n\n  function generateInstanceID() {\n    const a = \"abcdefghijklmnopqrstuv\";\n    const l = a.length;\n    const t = Date.now();\n    const r = [0, 0, 0].map(d => a[Math.floor(Math.random() * l)]).join(\"\");\n    return `${r}${t}`;\n  }\n\n  function getOffsetTop(el) {\n    const { top } = el.getBoundingClientRect();\n    const scrollTop = window.pageYOffset;\n    const clientTop = document.body.clientTop || 0;\n    return top + scrollTop - clientTop;\n  }\n\n  function getPageHeight() {\n    const { body } = document;\n    const html = document.documentElement;\n\n    return Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n  }\n\n  function getIndex(element) {\n    return +element.getAttribute(\"data-scrollama-index\");\n  }\n\n  function updateDirection() {\n    if (window.pageYOffset > previousYOffset) direction = \"down\";\n    else if (window.pageYOffset < previousYOffset) direction = \"up\";\n    previousYOffset = window.pageYOffset;\n  }\n\n  function disconnectObserver(name) {\n    if (io[name]) io[name].forEach(d => d.disconnect());\n  }\n\n  function handleResize() {\n    viewH = window.innerHeight;\n    pageH = getPageHeight();\n\n    const mult = format === \"pixels\" ? 1 : viewH;\n    offsetMargin = offsetVal * mult;\n\n    if (isReady) {\n      stepOffsetHeight = stepEl.map(el => el.getBoundingClientRect().height);\n      stepOffsetTop = stepEl.map(getOffsetTop);\n      if (isEnabled) updateIO();\n    }\n\n    if (isDebug) bug.update({ id, offsetMargin, offsetVal, format });\n  }\n\n  function handleEnable(enable) {\n    if (enable && !isEnabled) {\n      // enable a disabled scroller\n      if (isReady) {\n        // enable a ready scroller\n        updateIO();\n      } else {\n        // can't enable an unready scroller\n        err(\"scrollama error: enable() called before scroller was ready\");\n        isEnabled = false;\n        return; // all is not well, don't set the requested state\n      }\n    }\n    if (!enable && isEnabled) {\n      // disable an enabled scroller\n      OBSERVER_NAMES.forEach(disconnectObserver);\n    }\n    isEnabled = enable; // all is well, set requested state\n  }\n\n  function createThreshold(height) {\n    const count = Math.ceil(height / progressThreshold);\n    const t = [];\n    const ratio = 1 / count;\n    for (let i = 0; i < count; i += 1) {\n      t.push(i * ratio);\n    }\n    return t;\n  }\n\n  /* NOTIFY CALLBACKS */\n  function notifyStepProgress(element, progress) {\n    const index = getIndex(element);\n    if (progress !== undefined) stepStates[index].progress = progress;\n    const resp = { element, index, progress: stepStates[index].progress };\n\n    if (stepStates[index].state === \"enter\") cb.stepProgress(resp);\n  }\n\n  function notifyOthers(index, location) {\n    if (location === \"above\") {\n      // check if steps above/below were skipped and should be notified first\n      for (let i = 0; i < index; i += 1) {\n        const ss = stepStates[i];\n        if (ss.state !== \"enter\" && ss.direction !== \"down\") {\n          notifyStepEnter(stepEl[i], \"down\", false);\n          notifyStepExit(stepEl[i], \"down\");\n        } else if (ss.state === \"enter\") notifyStepExit(stepEl[i], \"down\");\n        // else if (ss.direction === 'up') {\n        //   notifyStepEnter(stepEl[i], 'down', false);\n        //   notifyStepExit(stepEl[i], 'down');\n        // }\n      }\n    } else if (location === \"below\") {\n      for (let i = stepStates.length - 1; i > index; i -= 1) {\n        const ss = stepStates[i];\n        if (ss.state === \"enter\") {\n          notifyStepExit(stepEl[i], \"up\");\n        }\n        if (ss.direction === \"down\") {\n          notifyStepEnter(stepEl[i], \"up\", false);\n          notifyStepExit(stepEl[i], \"up\");\n        }\n      }\n    }\n  }\n\n  function notifyStepEnter(element, dir, check = true) {\n    const index = getIndex(element);\n    const resp = { element, index, direction: dir };\n\n    // store most recent trigger\n    stepStates[index].direction = dir;\n    stepStates[index].state = \"enter\";\n    if (preserveOrder && check && dir === \"down\") notifyOthers(index, \"above\");\n\n    if (preserveOrder && check && dir === \"up\") notifyOthers(index, \"below\");\n\n    if (cb.stepEnter && !exclude[index]) {\n      cb.stepEnter(resp, stepStates);\n      if (isDebug) bug.notifyStep({ id, index, state: \"enter\" });\n      if (triggerOnce) exclude[index] = true;\n    }\n\n    if (progressMode) notifyStepProgress(element);\n  }\n\n  function notifyStepExit(element, dir) {\n    const index = getIndex(element);\n    const resp = { element, index, direction: dir };\n\n    if (progressMode) {\n      if (dir === \"down\" && stepStates[index].progress < 1)\n        notifyStepProgress(element, 1);\n      else if (dir === \"up\" && stepStates[index].progress > 0)\n        notifyStepProgress(element, 0);\n    }\n\n    // store most recent trigger\n    stepStates[index].direction = dir;\n    stepStates[index].state = \"exit\";\n\n    cb.stepExit(resp, stepStates);\n    if (isDebug) bug.notifyStep({ id, index, state: \"exit\" });\n  }\n\n  /* OBSERVER - INTERSECT HANDLING */\n  // this is good for entering while scrolling down + leaving while scrolling up\n  function intersectStepAbove([entry]) {\n    updateDirection();\n    const { isIntersecting, boundingClientRect, target } = entry;\n\n    // bottom = bottom edge of element from top of viewport\n    // bottomAdjusted = bottom edge of element from trigger\n    const { top, bottom } = boundingClientRect;\n    const topAdjusted = top - offsetMargin;\n    const bottomAdjusted = bottom - offsetMargin;\n    const index = getIndex(target);\n    const ss = stepStates[index];\n\n    // entering above is only when topAdjusted is negative\n    // and bottomAdjusted is positive\n    if (\n      isIntersecting &&\n      topAdjusted <= 0 &&\n      bottomAdjusted >= 0 &&\n      direction === \"down\" &&\n      ss.state !== \"enter\"\n    )\n      notifyStepEnter(target, direction);\n\n    // exiting from above is when topAdjusted is positive and not intersecting\n    if (\n      !isIntersecting &&\n      topAdjusted > 0 &&\n      direction === \"up\" &&\n      ss.state === \"enter\"\n    )\n      notifyStepExit(target, direction);\n  }\n\n  // this is good for entering while scrolling up + leaving while scrolling down\n  function intersectStepBelow([entry]) {\n    updateDirection();\n    const { isIntersecting, boundingClientRect, target } = entry;\n\n    // bottom = bottom edge of element from top of viewport\n    // bottomAdjusted = bottom edge of element from trigger\n    const { top, bottom } = boundingClientRect;\n    const topAdjusted = top - offsetMargin;\n    const bottomAdjusted = bottom - offsetMargin;\n    const index = getIndex(target);\n    const ss = stepStates[index];\n\n    // entering below is only when bottomAdjusted is positive\n    // and topAdjusted is negative\n    if (\n      isIntersecting &&\n      topAdjusted <= 0 &&\n      bottomAdjusted >= 0 &&\n      direction === \"up\" &&\n      ss.state !== \"enter\"\n    )\n      notifyStepEnter(target, direction);\n\n    // exiting from above is when bottomAdjusted is negative and not intersecting\n    if (\n      !isIntersecting &&\n      bottomAdjusted < 0 &&\n      direction === \"down\" &&\n      ss.state === \"enter\"\n    )\n      notifyStepExit(target, direction);\n  }\n\n  /*\n\tif there is a scroll event where a step never intersects (therefore\n\tskipping an enter/exit trigger), use this fallback to detect if it is\n\tin view\n\t*/\n  function intersectViewportAbove([entry]) {\n    updateDirection();\n    const { isIntersecting, target } = entry;\n    const index = getIndex(target);\n    const ss = stepStates[index];\n\n    if (\n      isIntersecting &&\n      direction === \"down\" &&\n      ss.direction !== \"down\" &&\n      ss.state !== \"enter\"\n    ) {\n      notifyStepEnter(target, \"down\");\n      notifyStepExit(target, \"down\");\n    }\n  }\n\n  function intersectViewportBelow([entry]) {\n    updateDirection();\n    const { isIntersecting, target } = entry;\n    const index = getIndex(target);\n    const ss = stepStates[index];\n    if (\n      isIntersecting &&\n      direction === \"up\" &&\n      ss.direction === \"down\" &&\n      ss.state !== \"enter\"\n    ) {\n      notifyStepEnter(target, \"up\");\n      notifyStepExit(target, \"up\");\n    }\n  }\n\n  function intersectStepProgress([entry]) {\n    updateDirection();\n    const {\n      isIntersecting,\n      intersectionRatio,\n      boundingClientRect,\n      target\n    } = entry;\n    const { bottom } = boundingClientRect;\n    const bottomAdjusted = bottom - offsetMargin;\n    if (isIntersecting && bottomAdjusted >= 0) {\n      notifyStepProgress(target, +intersectionRatio);\n    }\n  }\n\n  /*  OBSERVER - CREATION */\n  // jump into viewport\n  function updateViewportAboveIO() {\n    io.viewportAbove = stepEl.map((el, i) => {\n      const marginTop = pageH - stepOffsetTop[i];\n      const marginBottom = offsetMargin - viewH - stepOffsetHeight[i];\n      const rootMargin = `${marginTop}px 0px ${marginBottom}px 0px`;\n      const options = { rootMargin };\n      // console.log(options);\n      const obs = new IntersectionObserver(intersectViewportAbove, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  function updateViewportBelowIO() {\n    io.viewportBelow = stepEl.map((el, i) => {\n      const marginTop = -offsetMargin - stepOffsetHeight[i];\n      const marginBottom = offsetMargin - viewH + stepOffsetHeight[i] + pageH;\n      const rootMargin = `${marginTop}px 0px ${marginBottom}px 0px`;\n      const options = { rootMargin };\n      // console.log(options);\n      const obs = new IntersectionObserver(intersectViewportBelow, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  // look above for intersection\n  function updateStepAboveIO() {\n    io.stepAbove = stepEl.map((el, i) => {\n      const marginTop = -offsetMargin + stepOffsetHeight[i];\n      const marginBottom = offsetMargin - viewH;\n      const rootMargin = `${marginTop}px 0px ${marginBottom}px 0px`;\n      const options = { rootMargin };\n      // console.log(options);\n      const obs = new IntersectionObserver(intersectStepAbove, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  // look below for intersection\n  function updateStepBelowIO() {\n    io.stepBelow = stepEl.map((el, i) => {\n      const marginTop = -offsetMargin;\n      const marginBottom = offsetMargin - viewH + stepOffsetHeight[i];\n      const rootMargin = `${marginTop}px 0px ${marginBottom}px 0px`;\n      const options = { rootMargin };\n      // console.log(options);\n      const obs = new IntersectionObserver(intersectStepBelow, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  // progress progress tracker\n  function updateStepProgressIO() {\n    io.stepProgress = stepEl.map((el, i) => {\n      const marginTop = stepOffsetHeight[i] - offsetMargin;\n      const marginBottom = -viewH + offsetMargin;\n      const rootMargin = `${marginTop}px 0px ${marginBottom}px 0px`;\n      const threshold = createThreshold(stepOffsetHeight[i]);\n      const options = { rootMargin, threshold };\n      // console.log(options);\n      const obs = new IntersectionObserver(intersectStepProgress, options);\n      obs.observe(el);\n      return obs;\n    });\n  }\n\n  function updateIO() {\n    OBSERVER_NAMES.forEach(disconnectObserver);\n\n    updateViewportAboveIO();\n    updateViewportBelowIO();\n    updateStepAboveIO();\n    updateStepBelowIO();\n\n    if (progressMode) updateStepProgressIO();\n  }\n\n  /* SETUP FUNCTIONS */\n\n  function indexSteps() {\n    stepEl.forEach((el, i) => el.setAttribute(\"data-scrollama-index\", i));\n  }\n\n  function setupStates() {\n    stepStates = stepEl.map(() => ({\n      direction: null,\n      state: null,\n      progress: 0\n    }));\n  }\n\n  function addDebug() {\n    if (isDebug) bug.setup({ id, stepEl, offsetVal });\n  }\n\n  function isYScrollable(element) {\n    const style = window.getComputedStyle(element);\n    return (\n      (style.overflowY === \"scroll\" || style.overflowY === \"auto\") &&\n      element.scrollHeight > element.clientHeight\n    );\n  }\n\n  // recursively search the DOM for a parent container with overflowY: scroll and fixed height\n  // ends at document\n  function anyScrollableParent(element) {\n    if (element && element.nodeType === 1) {\n      // check dom elements only, stop at document\n      // if a scrollable element is found return the element\n      // if not continue to next parent\n      return isYScrollable(element)\n        ? element\n        : anyScrollableParent(element.parentNode);\n    }\n    return false; // didn't find a scrollable parent\n  }\n\n  const S = {};\n\n  S.setup = ({\n    step,\n    offset = 0.5,\n    progress = false,\n    threshold = 4,\n    debug = false,\n    order = true,\n    once = false\n  }) => {\n    reset();\n    // create id unique to this scrollama instance\n    id = generateInstanceID();\n\n    stepEl = selectAll(step);\n\n    if (!stepEl.length) {\n      err(\"no step elements\");\n      return S;\n    }\n\n    // ensure that no step has a scrollable parent element in the dom tree\n    // check current step for scrollable parent\n    // assume no scrollable parents to start\n    const scrollableParent = stepEl.reduce(\n      (foundScrollable, s) =>\n        foundScrollable || anyScrollableParent(s.parentNode),\n      false\n    );\n    if (scrollableParent) {\n      console.error(\n        \"scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.\",\n        scrollableParent\n      );\n    }\n\n    // options\n    isDebug = debug;\n    progressMode = progress;\n    preserveOrder = order;\n    triggerOnce = once;\n\n    S.offsetTrigger(offset);\n    progressThreshold = Math.max(1, +threshold);\n\n    isReady = true;\n\n    // customize\n    addDebug();\n    indexSteps();\n    setupStates();\n    handleResize();\n    S.enable();\n    return S;\n  };\n\n  S.resize = () => {\n    handleResize();\n    return S;\n  };\n\n  S.enable = () => {\n    handleEnable(true);\n    return S;\n  };\n\n  S.disable = () => {\n    handleEnable(false);\n    return S;\n  };\n\n  S.destroy = () => {\n    handleEnable(false);\n    reset();\n  };\n\n  S.offsetTrigger = x => {\n    if (x === null) return offsetVal;\n\n    if (typeof x === \"number\") {\n      format = \"percent\";\n      if (x > 1) err(\"offset value is greater than 1. Fallback to 1.\");\n      if (x < 0) err(\"offset value is lower than 0. Fallback to 0.\");\n      offsetVal = Math.min(Math.max(0, x), 1);\n    } else if (typeof x === \"string\" && x.indexOf(\"px\") > 0) {\n      const v = +x.replace(\"px\", \"\");\n      if (!isNaN(v)) {\n        format = \"pixels\";\n        offsetVal = v;\n      } else {\n        err(\"offset value must be in 'px' format. Fallback to 0.5.\");\n        offsetVal = 0.5;\n      }\n    } else {\n      err(\"offset value does not include 'px'. Fallback to 0.5.\");\n      offsetVal = 0.5;\n    }\n    return S;\n  };\n\n  S.onStepEnter = f => {\n    if (typeof f === \"function\") cb.stepEnter = f;\n    else err(\"onStepEnter requires a function\");\n    return S;\n  };\n\n  S.onStepExit = f => {\n    if (typeof f === \"function\") cb.stepExit = f;\n    else err(\"onStepExit requires a function\");\n    return S;\n  };\n\n  S.onStepProgress = f => {\n    if (typeof f === \"function\") cb.stepProgress = f;\n    else err(\"onStepProgress requires a function\");\n    return S;\n  };\n\n  return S;\n}\n\nexport default scrollama;\n","// DOM helper functions\n\n// public\nfunction selectAll(selector, parent = document) {\n  if (typeof selector === 'string') {\n    return Array.from(parent.querySelectorAll(selector));\n  } else if (selector instanceof Element) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return Array.from(selector);\n  } else if (selector instanceof Array) {\n    return selector;\n  }\n  return [];\n}\n\nexport { selectAll };\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * A local reference to the document.\n */\nvar document = window.document;\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  if (doc != (this.root && this.root.ownerDocument || document)) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc = (this.root && this.root.ownerDocument || document);\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: crossOriginUpdater && !this.root ? null : rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target) &&\n    (!this.root || this.root.ownerDocument == target.ownerDocument);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  if (parent && parent.assignedSlot) {\n    // If the parent is distributed in a <slot>, return the parent of a slot.\n    return parent.assignedSlot.parentNode;\n  }\n\n  return parent;\n}\n\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport DonorBar from './donorbar.js';\nimport DonorBubble from './donorbubble.js';\nimport SidePanel from './sidepanel.js';\n\nimport * as d3 from 'd3';\nimport scrollama from 'scrollama';\nimport 'intersection-observer';\n\n\n\nexport default class DonorScrolly extends Component {\n    constructor() {\n        super({\n            store,\n            element: d3.select('#donor-scrolly'),\n        });\n        this.local = { \n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n        console.log(\"donor-scrolly rendering\")\n        let self = this;\n        var donorScrolly = self.element\n        var figure = donorScrolly.select(\"figure\");\n        var donorArticle = donorScrolly.select(\"article\");\n        var step = donorArticle.selectAll(\".step\");\n\n        let scroller = scrollama();\n        // setup the instance, pass callback functions\n        setupStickyfill();\n\n        // 1. force a resize on load to ensure proper dimensions are sent to scrollama\n        handleResize();\n\n        // 2. setup the scroller passing options\n        // \t\tthis will also initialize trigger observations\n        // 3. bind scrollama event handlers (this can be chained like below)\n        scroller\n            .setup({\n                step: \"#donor-scrolly article .step\",\n                offset: 0.25,\n                debug: false\n            })\n        .onStepEnter(handleStepEnter);\n\n            // setup resize event\n            window.addEventListener(\"resize\", handleResize);\n\n        \n            function handleResize() {\n                // 1. update height of step elements\n                var stepH = Math.floor(window.innerHeight * 0.75);\n                step.style(\"height\", stepH + \"px\");\n            \n                var figureHeight = window.innerHeight / 2;\n                var figureMarginTop = (window.innerHeight - figureHeight) / 2;\n            \n                figure\n                  .style(\"height\", figureHeight + \"px\")\n                  .style(\"top\", figureMarginTop + \"px\");\n            \n                // 3. tell scrollama to update new element dimensions\n                scroller.resize();\n            }\n\n            \n            function handleStepEnter(response) {\n                //console.log(response);\n                // response = { element, direction, index }\n        \n                // add color to current step only\n                step.classed(\"is-active\", function(d, i) {\n                    return i === response.index;\n                });\n                // update graphic based on step\n                if (response.index == 0) {\n                    let donorBar = new DonorBar();\n                    donorBar.render()\n                } else if (response.index == 1){\n                    let donorBubble1 = new DonorBubble(948); // donor bubble for NYC Campaign Finance Board\n                    donorBubble1.render()\n                } else if (response.index == 2){\n                    let donorBubble2 = new DonorBubble(188); // donor bubble for NYC Campaign Finance Board\n                    donorBubble2.render()\n                } else if (response.index == 3){\n                    let donorBubble1 = new DonorBubble(196); // donor bubble for NYC Campaign Finance Board\n                    donorBubble1.render()\n                }\n            }\n            \n            function setupStickyfill() {\n                d3.selectAll(\".sticky\").each(function() {\n                  Stickyfill.add(this);\n                });\n              }\n\n\n            let scroller2 = scrollama()\n            scroller2\n                .setup({\n                    step: \"#donor-scrolly article .baby-step\",\n                    debug: false,\n                    offset: 0.33\n                })\n            .onStepEnter(handleBabyStepEnter)\n            .onStepExit(handleBabyStepExit)\n            \n            // set Candidate Color\n            store.dispatch('setCandidateColors', \n                d3.scaleSequential(d3.interpolateYlOrRd).domain([-10, 96]))\n\n            /** Render Side Panels */\n           \n            let donorSide1 = new SidePanel('B1')\n            donorSide1.render('The Biggest Donors', \" Who are those big donors? 429 donors is a lot to go through. \\\n            Let's look at the eleven donors who gave more than $500,000 between \\\n            2015 and 2020. Some of them are surprising.\",\"donor-side\")\n\n            let donorSide2 = new SidePanel('B2')\n            donorSide2.render('The NYC Campaign Finance Board: $2,232,391' , \"What is the NYC campaign finance board?\\\n            It's the government agency that pays matching funds to qualifying candidates who run in city \\\n            elections as part of the city's public financing for elections. Why does money from city elections\\\n            show up here? In the 2015-2020 time period, all of these candidates ran for Public Advocate. The matching\\\n            funds that they raised are transferrable to other races if they have funds left over.\",\"donor-side\")\n\n            let donorSide3 = new SidePanel('B3')\n            donorSide3.render('The LAWPAC of NY: $1,275,160' , \"What is the LAWPAC and why do trial\\\n            lawyers spend so much money on candidates? The LAWPAC represents trial lawyers who earn their\\\n            living by helping people to sue for liability. In the last 5 years there were many contested\\\n            laws about who is liable for what. See Carlos' Law as an example. There are also bills before the\\\n            state legislature to limit the percentage that trial lawyers can get paid from a settlement.\\\n            <br><br>The LAWPAC casts a broad net donating 439 times total, including at least one donation to 79 of\\\n            the 86 candidates. The average amount that they paid to a politician in the last 5 years was $2,905. \\\n            The maximum that they paid to a single politician was $69,700. Note that while these donations represent\\\n            this organization, trial lawyer association members can also donate as individuals and via other PACs.\\\n            \",\"donor-side\")\n\n            let donorSide4 = new SidePanel('B4')\n            donorSide4.render('1199 SEIU United Healthcare Workers: $989,150', \"1199 SEIU is a local of the Service\\\n            Employees International Union for New York state and many other east coast states. Their union members\\\n            include home health aides, janitors, pharmacicts, techs, lab workers, nurse aides, house cleaners, social workers\\\n            and many other healthcare workers.  They are the major union behind the fight for $15 nationwide, which in 2016, \\\n            won legislation in New York. They also were a big part of the Green Light NY Coalition that won access to drivers \\\n            licenses for undocumented people in NY in 2019.<br><br> Similar to the LAWPAC, 1199 SEIU casts a wide net, having\\\n            donated to 82 of the 86 candidates. They seem to spread their money around a little more than the LAWPAC, however.\\\n            The average amount that they paid to a politician in the last 5 years was $4,300. Still it definitely is skewed\\\n            as the maximum amount that they paid to a politician was $50,000. Unlike trial lawyers, most of the members\\\n            of 1199SIEU are low paid. While they could also donate as individuals, it seems unlikely that a significant\\\n            portion of them have the disposable income to throw around.\",\"donor-side\")\n\n            /**  helper functions */\n            function handleBabyStepEnter(response) {\n                //console.log(response)\n                if (response.index == 0) {\n                    d3.select('#donor948')\n                        .classed(\"barHighlighted\", true)\n                    let side = d3.select(\"[baby-data = \\\"1\\\"]\")\n                    side.append(\"div\")\n                        .classed(\"header-2\",true)\n                        .text(\"#1 The N.Y.C Campaign Finance Board (????)\")\n                    side.append(\"div\")\n                        .text(\"Yep, that's right, the biggest single donor in the last five years was the New York City \\\n                        Campaign Finance Board. This is due to the public financing of citywide elections. \\\n                        Confused? Will explain below.\")\n                } else if (response.index == 1) {\n                    d3.select('#donor188')\n                        .classed(\"barHighlighted\", true)\n                    let side = d3.select(\"[baby-data = \\\"2\\\"]\")\n                    side.append(\"div\")\n                        .classed(\"header-2\",true)\n                        .text(\"#2 The LAWPAC?\")\n                    side.append(\"div\")\n                        .text(\"This is one of two Trial Lawyers Associations for New York. Trial lawyers help people sue \\\n                        over liability for accidents and care about the exact laws on the books. More info below.\")\n                } else if (response.index == 2) {\n                    d3.select('#donor196')\n                        .classed(\"barHighlighted\", true)\n                    let side = d3.select(\"[baby-data = \\\"3\\\"]\")\n                    side.append(\"div\")\n                        .classed(\"header-2\",true)\n                        .text(\"#3 1199 SEIU?\")\n                    side.append(\"div\")\n                        .text(\"1199 SEIU is a local of the Service Employees International Union that represents health care workers\\\n                        in New York and other states. More info below.\")\n                }\n\n\n            }\n            function handleBabyStepExit(response) {\n                //console.log(response)\n                if (response.index == 0) {\n                    d3.select('#donor948')\n                        .classed(\"barHighlighted\", false)\n                    d3.select(\"[baby-data = \\\"1\\\"]\").selectAll(\"*\").remove()\n                } else if( response.index == 1){\n                    d3.select('#donor188')\n                        .classed(\"barHighlighted\", false)\n                    d3.select(\"[baby-data = \\\"2\\\"]\").selectAll(\"*\").remove()\n                }  else if( response.index == 2){\n                    d3.select('#donor196')\n                        .classed(\"barHighlighted\", false)\n                    d3.select(\"[baby-data = \\\"3\\\"]\").selectAll(\"*\").remove()\n                }\n\n            }\n\n        }\n\n    \n    \n    \n    \n    \n}","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport scrollama from 'scrollama';\nimport 'intersection-observer';\nimport SidePanel from './sidepanel.js';\n\nexport default class CandidateScrolly extends Component {\n    constructor() {\n        super({\n            store,\n            element: d3.select('#candidate-scrolly'),\n        });\n        this.local = { \n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n\n        let self = this;\n        var donorScrolly = self.element\n        var figure = donorScrolly.select(\"figure\");\n        var donorArticle = donorScrolly.select(\"article\");\n        var step = donorArticle.selectAll(\".step\");\n\n        let scroller = scrollama();\n        // setup the instance, pass callback functions\n        setupStickyfill();\n\n        // 1. force a resize on load to ensure proper dimensions are sent to scrollama\n        handleResize();\n\n        // 2. setup the scroller passing options\n        // \t\tthis will also initialize trigger observations\n        // 3. bind scrollama event handlers (this can be chained like below)\n        scroller\n        .setup({\n            step: \"#candidate-scrolly article .step\",\n            offset: 0.33,\n            debug: false\n        })\n        .onStepEnter(handleStepEnter);\n\n        // setup resize event\n         window.addEventListener(\"resize\", handleResize);\n        \n        /** setup the sidebar  */\n        let candidateSide1 = new SidePanel('C1')\n        candidateSide1.render(\"$$ Proportional to Power\", \"These are the nine politicians who received more than $1,500,000.  \\\n        How much money you got seems proportional to the amount\\\n         of power you have in Albany. Andrew Cuomo, the Governor, has a massive amount of power in Albany, and recieved\\\n         45% of the total money in the last 5 years. You can investigate the donors who paid Cuomo compared to the other politicians\\\n         <a target='_blank' href='https://bit.ly/WhoPaysNY'> with this tool</a>.\",\"candidate-side\")\n\n        let candidateSide2 = new SidePanel('C2')\n        candidateSide2.render(\"The Governor: 45% of the money, 45% of the power\", \"The Governor has immense control over the\\\n        budgeting process, which has become an 'Omnibus' process where any kind of bill can get forced into the budget if\\\n        they are part of the Governor's legislative priority. The budget has to pass, and thus it is a way to force legislation through.\\\n        Additionally, before from 2015-2018, the Senate was held by Republicans and\\\n        the Assembly by the Democrats. This gave more power to the Governor as the 'deal-maker.'\",\"candidate-side\",\"candidate-body\")\n\n        let candidateSide3 = new SidePanel('C3')\n        candidateSide3.render(\"The State Attorney General:\", \"As a state-wide office, this position\\\n         has a lot of power of determining which \\\n        illegal actors to pursue statewide, whether negligent landlords, or healthcare providers who are scamming Medicaid.\\\n        It also generally costs a lot of money to win a statewide office, especially if it is a contested race and you are not incumbent.\\\n        Leticia James was first elected in 2018 in\\\n         a race hotly contested by Zephyr Teachout.  $4 million donations came in 2018 around that race.\",\"candidate-side\",\"candidate-body\")\n\n        let candidateSide4 = new SidePanel('C4')\n        candidateSide4.render(\"The State Comptroller:\", \"As a state-wide office, this position\\\n         has a lot of power in review the finances of the state and making recommendations to the Legislature and Governor about finances.\\\n        The comptroller has, despite reporting budget deficits, only recommended cuts to services, including to Medicaid during\\\n        the COVID-19 pandemic.  The comptroller could recommend raising taxes on the wealthy or corporations, but has not ever done so.\\\n        Many of these donors would have to pay more in these kinds of taxes, were they to be implemented.\",\"candidate-side\",\"candidate-body\")\n        \n        let candidateSide5 = new SidePanel('C5')\n        candidateSide5.render(\"The Speaker of the Assembly:\", \"This position has control over commmittee appointments, Community Fund\\\n         spending, and the agenda for the Assembly. The Speaker decides what bills will be voted on where. While the Assembly has\\\n          a large majority Democrat and theoretically could, bring votes from the floor, members that contradict the speaker put\\\n          community funding in their district and their committee appointments in jeopardy. The Speaker is also \\\n          the sole representative of the Assembly during the final budget negotiations with the Governor and the Majority Leader\\\n          of the Senate.\",\"candidate-side\",\"candidate-body\")\n\n        let candidateSide6 = new SidePanel('C6')\n        candidateSide6.render(\"The Lieutenant Governor:\", \"This is a statewide position that can set the agenda for the state Senate, \\\n        make committee appointments in that body, and vote in case of a tie. As President of the Senate, The Lt. Governor has a deciding vote if the body is split.\\\n        for 2015-2018, when a group of Democrats caucused with the Republicans to give them a narrow majority, the Lt. Governor was\\\n        influential in managing the agenda of the body. Kathy Hochul also ran a very close race for re-election in 2018 against\\\n        Jumaane Williams. $3 million of her donations came in 2018 around that race.\",\"candidate-side\",\"candidate-body\")\n        \n        let candidateSide7 = new SidePanel('C7')\n        candidateSide7.render(\"The Majority Leader of the Senate:\", \"The majority leader of the Senate, in the absence of the Lt. Governor\\\n        has all the powers of the Lt. Governor, including setting the agenda of the Senate, and making committee appointments. Similar to\\\n        the Speaker of the Assembly the Majority Leader has traditionally been the sole representative of the Senate during the final\\\n        budget negotiations with the Governor and the Speaker of the Assembly. After getting elected Speaker in 2018, Stewart-Cousins'\\\n        yearly reciepts doubled.\",\"candidate-side\",\"candidate-body\")\n\n        let candidateSide8 = new SidePanel('C8')\n        candidateSide8.render(\"The Deputy Majority Leader of the Senate:\", \"The deputy majority leader of the Senate, presumably has\\\n        influence within the caucus and in the run of procedure in the Senate. Michael Gianaris also seriously prepared to run for\\\n        state Attorney General in the 2018 election. That prepartion most certainly included a lot of fundraising.  Gianaris is\\\n        also Chair of the Democratic Senate Campaign Committee that provides funds to re-elect members of the Democratic senate\\\n        conference.\",\"candidate-side\",\"candidate-body\")\n        \n        let candidateSide9 = new SidePanel('C9')\n        candidateSide9.render(\"Running for Higher Office:\", \"Michael Blake is an Assemblyperson who was elected to represent the Bronx in 2014.\\\n        He held cabinet positions in the Obama administration, and was appointed vice-chair of the Democratic National Committee in 2017. He \\\n        ran for Public Advocate in 2018, recieving $838,016 in matching funds from the city in that race. He is currently running for Congress\\\n        in the NY 15th district.\",\"candidate-side\",\"candidate-body\")\n\n        let candidateSide10 = new SidePanel('C10')\n        candidateSide10.render(\"Vestiges of the IDC Break-off Democrats:\", \"Diane Savino, a state Senator whose district covers both Staten Island and Brooklyn,\\\n         is <a target='_blank' href='https://www.vox.com/policy-and-politics/2018/9/14/17859200/idc-new-york-primaries-democrats-biaggi-klein'>one of two of the\\\n          break-off Democrats to survive challengers in the 2018 elections </a>. The break-off Democrats defected from the\\\n          Democratic party from 2012-2018 to give the Republicans control of the Senate. As a result, these individuals had a lot of \\\n        influence both on getting more money spent in their districts, and the budget and overall agenda of the Senate.\",\"candidate-side\",\n        \"candidate-body\")\n\n        /** helper functions */\n        \n        function handleResize() {\n            // 1. update height of step elements\n            var stepH = Math.floor(window.innerHeight * 0.75);\n            step.style(\"height\", stepH + \"px\");\n        \n            var figureHeight = window.innerHeight / 2;\n            var figureMarginTop = (window.innerHeight - figureHeight) / 2;\n        \n            figure\n                .style(\"height\", figureHeight + \"px\")\n                .style(\"top\", figureMarginTop + \"px\");\n        \n            // 3. tell scrollama to update new element dimensions\n            scroller.resize();\n        }\n        let pols = [93,95,96,88,94,26,3,84,14]\n        function handleStepEnter(response) {\n            // response = { element, direction, index }\n    \n            // add color to current step only\n            step.classed(\"is-active\", function(d, i) {\n                return i === response.index;\n            });\n            if (response.index == 0) {\n                d3.select(\".barPolHighlight\")\n                    .classed(\"barPolHighlight\", false)\n            }\n            // update graphic based on step\n            if (response.index  > 0){\n                d3.select(\".barPolHighlight\")\n                    .classed(\"barPolHighlight\", false)\n                d3.select('#candidate'+pols[response.index-1])\n                    .classed(\"barPolHighlight\", true)\n            }\n        }\n        \n        function setupStickyfill() {\n            d3.selectAll(\".sticky\").each(function() {\n                Stickyfill.add(this);\n            });\n        }\n    }\n\n    \n    \n    \n    \n    \n}","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport * as d3array from 'd3-array';\n\nexport default class DonorTree extends Component {\n    constructor(padding, id) {\n        super({\n            store,\n            element: d3.select(\"#\"+id),\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n            paddingInner : 0.2,\n            margin : { top: 20, bottom: 20, left: 40, right:20 },\n            padding: padding\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n        let self = this;\n        self.element.selectAll(\"*\").remove()\n        console.log(\"donortree rendering\")\n        let width = self.element.node().getBoundingClientRect().width-self.local.margin.left-self.local.margin.right\n        let height = self.element.node().getBoundingClientRect().height-self.local.margin.top-self.local.margin.bottom-15\n\n        /* Get the donor bar chart data*/ \n        self.element.append(\"div\")\n            .attr(\"class\",\"header-2 chart-title tree-title\")\n            .text(\"$\"+ self.local.format(store.state.summary.total_money) +\" from \" + self.local.format(store.state.donors.length) + \" Donors\")\n\n        let donors_rollup = d3array.rollups(store.state.donors,  \n            v =>  ({Total: d3.sum(v, d => d.Total), donations:v}), // reduce function,\n            d => d.Cluster_ID)\n        \n        \n        let root = d3\n            .hierarchy([null, donors_rollup], ([key, values]) => values) // children accessor, tell it to grab the second element\n            .sum(([key, values]) => values.Total) // sets the 'value' of each level\n            .sort((a, b) => b.value - a.value);\n        \n\n        // make bubble map layout generator\n        let tree = d3\n            .treemap()\n            .size([width, height])\n            .padding(self.local.padding)\n            .round(true);\n        \n        tree(root); // creates our coordinates and dimensions based on the heirarchy and tiling algorithm\n\n        \n        let svg = self.element\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .attr(\"class\",\"tree\");\n        // create g for each leaf\n        const leaf = svg\n            .selectAll(\"g\")\n            .data(root.leaves())\n            .join(\"g\")\n            .attr(\"transform\", d => `translate(${d.x0},${d.y0})`);\n\n        leaf\n            .append(\"rect\")\n            .attr(\"width\", d => d.x1 - d.x0)\n            .attr(\"height\", d => d.y1 - d.y0)\n            .attr(\"class\", d=> {\n                if (d.value <= 40) {\n                    return \"quartile-1 donortree\"\n                }  \n                if (d.value >= 40 && d.value <= 100){\n                    return \"quartile-2 donortree\"\n                }\n                if (d.value > 100 && d.value <= 500){\n                    return \"quartile-3 donortree\"\n                }\n                if (d.value > 500) {\n                    return \"quartile-4 donortree\"\n                }\n            })    \n        }\n\n        hide() {\n            let self = this\n            self.element.classed(\"unhidden\", false)\n            self.element.classed(\"hidden\", true)\n        }\n\n        unhide() {\n            let self = this\n            self.element.classed(\"hidden\", false)\n            self.element.classed(\"unhidden\", true)\n\n        }\n    }\n   \n    \n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport * as d3array from 'd3-array';\nexport default class QuartileTree extends Component {\n    constructor(padding,id) {\n        super({\n            store,\n            element: d3.select(\"#\"+id),\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n            paddingInner : 0.2,\n            margin : { top: 20, bottom: 20, left: 40, right:20 },\n            padding: padding\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render(data) {\n        let self = this;\n        self.element.selectAll(\"*\").remove()\n        console.log(\"quartiletree rendering\")\n        let width = self.element.node().getBoundingClientRect().width-self.local.margin.left-self.local.margin.right\n        let height = self.element.node().getBoundingClientRect().height-self.local.margin.top-self.local.margin.bottom-30\n\n        /* Get the donor bar chart data*/ \n        self.element.append(\"div\")\n            .attr(\"class\",\"header-2 chart-title tree-title\")\n            .text(\"$\"+ self.local.format(store.state.summary.total_money) +\" from 53,361 Donors\")\n        \n        let quartiles = []\n        if (data.length > 0) {\n            quartiles = data\n        } else {\n            quartiles = store.state.quartiles\n        }\n        let quartiles_rollup = d3array.rollups(quartiles,  \n            v =>  ({Total: d3.sum(v, d => d.Total), donations:v}), \n            d => d.Quartile)\n        \n        let root = d3\n            .hierarchy([null, quartiles_rollup], ([key, values]) => values) // children accessor, tell it to grab the second element\n            .sum(([key, values]) => values.Total) // sets the 'value' of each level\n            .sort((a, b) => b.value - a.value);\n        \n\n        // make bubble map layout generator\n        let tree = d3\n            .treemap()\n            .size([width, height])\n            .padding(self.local.padding)\n            .round(true);\n        \n        tree(root); // creates our coordinates and dimensions based on the heirarchy and tiling algorithm\n        \n        let svg = self.element\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .attr(\"class\",\"tree\");\n        // create g for each leaf\n        const leaf = svg\n            .selectAll(\"g\")\n            .data(root.leaves())\n            .join(\"g\")\n            .attr(\"transform\", d => `translate(${d.x0},${d.y0})`);\n\n        leaf\n            .append(\"rect\")\n            .attr(\"width\", d => d.x1 - d.x0)\n            .attr(\"height\", d => d.y1 - d.y0)\n            .attr(\"class\", d=> {\n                if (d.data[0] ==\"bottom\") {\n                    return \"quartile-1 donortree\"\n                }  \n                if (d.data[0] == \"low-middle\"){\n                    return \"quartile-2 donortree\"\n                }\n                if (d.data[0] == \"high-middle\"){\n                    return \"quartile-3 donortree\"\n                }\n                if (d.data[0] == \"top\"){\n                    return \"quartile-4 donortree\"\n                }\n                if (d.data[0] ==\"bottom-half\") {\n                    return \"bottom-half donortree\"\n                }\n                if (d.data[0] ==\"top-half\") {\n                    return \"top-half donortree\"\n                }\n            })\n            \n        leaf\n            .append(\"text\")\n            .text(d => { \n                if (d.data[0] == \"bottom-half\") {\n                    return \"52,932 Donors\"\n                }\n                if (d.data[0] == \"top-half\"){\n                    return \"429 Donors\"\n                }\n            })\n            .attr(\"dy\", \"17em\")\n            .attr(\"dx\", d => d.data[0] == \"top-half\" ? \"3.5em\" : \"4em\")\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"font-family\",  \"Gill Sans\", \"Gill Sans MT\")\n            .attr(\"font-size\", \"24\")\n            .attr(\"font-weight\", \"bold\")\n            .attr(\"fill\", d => d.data[0] == \"top-half\" ? \"#103160\" : \"#2580ff\");\n    }\n\n    hide() {\n        let self = this\n        self.element.classed(\"unhidden\", false)\n        self.element.classed(\"hidden\", true)\n    }\n\n    unhide() {\n        let self = this\n        self.element.classed(\"hidden\", false)\n        self.element.classed(\"unhidden\", true)\n\n    }\n}\n   \n    \n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport scrollama from 'scrollama';\nimport 'intersection-observer';\nimport DonorTree from './donortree.js';\nimport QuartileTree from './quartiletree.js'\nimport SidePanel from './sidepanel.js'\n\nexport default class CorruptScrolly extends Component {\n    constructor() {\n        super({\n            store,\n            element: d3.select('#corrupt-scrolly'),\n        });\n        this.local = { \n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n\n        let self = this;\n        var donorScrolly = self.element\n        var figure = donorScrolly.select(\"figure\");\n        var donorArticle = donorScrolly.select(\"article\");\n        var step = donorArticle.selectAll(\".step\");\n\n        let scroller = scrollama();\n        // setup the instance, pass callback functions\n        setupStickyfill();\n\n        // 1. force a resize on load to ensure proper dimensions are sent to scrollama\n        handleResize();\n\n        // 2. setup the scroller passing options\n        // \t\tthis will also initialize trigger observations\n        // 3. bind scrollama event handlers (this can be chained like below)\n        scroller\n        .setup({\n            step: \"#corrupt-scrolly article .step\",\n            offset: 0.5,\n            debug: false\n        })\n        .onStepEnter(handleStepEnter)\n\n        // setup resize event\n        window.addEventListener(\"resize\", handleResize);\n\n        let donorTree = new DonorTree(1,\"donortree\")\n        donorTree.unhide()\n        donorTree.render()\n\n        let donorTreeDense = new QuartileTree(0,\"donortreedense\")\n        donorTreeDense.unhide()\n        donorTreeDense.render([])\n        donorTreeDense.hide()\n\n\n        /* render all the sidebars */\n        let corruptSide1 = new SidePanel('A1')\n            corruptSide1.render(\"The Total: $104,006,269\",\"This is all of the donations by all of the donors. \\\n            The bigger boxes are the donors who gave the most. \\\n            As you can see, some donors gave a lot more money than others.\\\n            In fact many of the smallest boxes are so small you can\\'t see them. Over\\\n            a half of the donors are not visible here becuse they are so small. The total distribution of donations\\\n            is similar to the total distribution of wealth in the city, with an extremely high concentration in the\\\n            top 1%.\", \"corrupt-side\")\n\n        let corruptSide2 = new SidePanel('A2')\n            corruptSide2.render(\"The smallest quarter: $223,821\",\"This is the total sum of the donations by \\\n            the twenty-five percent of donors who gave less than $40. \\\n            As you can see, even though it is 13,340 donors, it is not a lot of money compared to \\\n            the total. In all it adds up to about 0.2%.\",\"corrupt-side\")\n\n        let corruptSide3 = new SidePanel('A3')\n            corruptSide3.render(\"The low-middle quarter: $1,048,338\",\"This is the total sum of the donations by \\\n            the twenty-five percent of donors who gave between $40 and $100 dollars. \\\n            These 13,340 donors contributed about 1% of the total.\",\"corrupt-side\")\n\n        let corruptSide4 = new SidePanel('A4')\n            corruptSide4.render(\"The upper-middle quarter: $4,219,958\",\"This is the total sum of the donations by \\\n            the twenty-five percent of donors who gave between $100 and $500 dollars. \\\n            These are the donors who gave a total donation amount that was between 50% and 75% of the largest donations. \\\n            It still accounts for a fairly small amount over all, about 4%.\",\"corrupt-side\")\n\n        let corruptSide5 = new SidePanel('A5')\n            corruptSide5.render(\"The top quarter of donors: $98,515,179\",\"This is the total sum of the donations by \\\n            the twenty-five percent of donors who gave over $500 dollars. \\\n            These donors, while only a quarter of the overall donations, account for the vast majority of the donations.\\\n            In total they contributed about 95% of the money.<br><br> I don't know about you but I don't have $500 to throw around\\\n            to random politicians. A lot of these donations are small businesses in politician's districts, and people with\\\n            lots of money: doctors, lawyers, landlords, finance industry people, and c-level executives of organizations.\",\n            \"corrupt-side\")\n        \n        let corruptSide6 = new SidePanel('A6')\n            corruptSide6.render(\"The Top 1%: $52,004,298\",\"429 Donors accounted for $52,004,298. All 429 of these donors\\\n            gave over $46,250.  Who are the 429? Most of them are organizations. Some of\\\n            them represent working people, but many of them represent wealthy people who want to increase or protect their wealth.\\\n            These 429, while only 0.8% of the donors, account for 50% of the money. It is worth noting that individuals with means\\\n            often donate in diffuse ways through many different PAC's and LLC's, while individuals without a lot of extra money donate\\\n            via concetrated groups, like their Union.\",\n            \"corrupt-side\")\n\n\n        /* \n        * helper function definitions \n        *                                       */\n        function handleResize() {\n            // 1. update height of step elements\n            var stepH = Math.floor(window.innerHeight * 0.75);\n            step.style(\"height\", stepH + \"px\");\n        \n            var figureHeight = window.innerHeight / 2;\n            var figureMarginTop = (window.innerHeight - figureHeight) / 2;\n        \n            figure\n                .style(\"height\", figureHeight + \"px\")\n                .style(\"top\", figureMarginTop + \"px\");\n        \n            // 3. tell scrollama to update new element dimensions\n            scroller.resize();\n        }\n\n        function handleStepEnter(response) {\n            //console.log(response);\n            // response = { element, direction, index }\n    \n            // add color to current step only\n            step.classed(\"is-active\", function(d, i) {\n                return i === response.index;\n            });\n\n            let totals = [{value: \"less than $40\", total: \"$223,821\"},\n            {value: \"between $40 and $100\", total: \"$1,048,338\"}, \n            {value:\"between $100 and $500\", total:\"$4,219,958\"},\n            {value: \"above $500\", total:\"$98,515,179\"}]\n            // update graphic based on step\n            if(response.index == 0){\n                donorTree.unhide()\n                donorTreeDense.hide()\n                d3.selectAll(\".tree-title\")\n                    .html(`$104,006,296 from 53,361 Donors`)\n            }\n            else if (response.index > 0 && response.index < 5){\n                donorTree.hide()\n                donorTreeDense.unhide()\n                donorTreeDense.render([])\n                d3.selectAll(\".tree-title\")\n                    .html(`25% of the Donors gave ${totals[response.index-1].value}. They account for ${totals[response.index-1].total}.`)\n                d3.select(\"#donortreedense\")\n                    .selectAll(\"rect\")\n                        .classed(\"show-rect\", false)\n                d3.select(\"#donortreedense\").selectAll(\".quartile-\"+response.index)\n                    .classed(\"show-rect\", true)\n\n            } else if (response.index == 5){\n                let halves = [{Quartile: \"top-half\", Total: 52004298},{Quartile: \"bottom-half\", Total: 52001998}]\n                donorTreeDense.render(halves)\n                d3.selectAll(\".tree-title\")\n                    .html(`429 Donors account for 50% of the money.`)\n                \n                d3.select(\"#donortreedense\").selectAll(\".top-half\")\n                    .classed(\"show-rect\", true)\n            }\n\n        }\n        \n        \n        function setupStickyfill() {\n            d3.selectAll(\".sticky\").each(function() {\n                Stickyfill.add(this);\n            });\n            }\n        }\n\n    \n    \n    \n    \n    \n}","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\n\nexport default class Header extends Component {\n    constructor(element) {\n        super({\n            store,\n            element: element,\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render(text) {\n        let self = this;\n\n        self.element.append(\"div\")\n            .attr(\"class\",\"header-1\")\n            .text(text)\n    }\n   \n    \n}","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport Header from './header.js';\n\n\nexport default class SectionHeader extends Component {\n    constructor(id) {\n        super({\n            store,\n            element: d3.select(\"#\" +id),\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render(headertext,text) {\n        let self = this;\n        let div = self.element.append(\"div\")\n        let header = new Header(div)\n        header.render(headertext)\n        self.element.append(\"div\")\n            .html(`${text}`)\n    }\n   \n    \n}","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\nimport * as d3array from 'd3-array';\nimport topCandidates from \"../../data/top_money_candidate_filings.csv\"\n\nexport default class CandidateBar extends Component {\n    constructor() {\n        super({\n            store,\n            element: d3.select(\"#figurecandidate\"),\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n            paddingInner : 0.2,\n            margin : { top: 20, bottom: 20, left: 200, right:140 },\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n        let self = this;\n        self.element.selectAll(\"*\").remove()\n        console.log(\"Candidatesbar rendering\")\n        let width = self.element.node().getBoundingClientRect().width\n        let height = self.element.node().getBoundingClientRect().height-30\n        /* Get the donor bar chart data*/ \n        self.element.append(\"div\")\n            .attr(\"class\",\"header-2 chart-title\")\n            .text(\"Politicians who recieved more than $1,500,000\")\n\n        let candidates = d3array.rollup(topCandidates,  \n            v =>  d3.sum(v, d => d.Total), // reduce function,\n            d => d.Candidate_ID)\n  \n        let most = d3array.greatest(candidates, ([,sum]) => sum)\n        let topIds = [...candidates.keys()]\n        let electeds = store.state.electeds.filter(d => topIds.includes(d.Elected_Id))\n        candidates = Array.from(candidates)\n        candidates = candidates.sort((a,b) => d3.descending(a[1],b[1]))\n        electeds.sort(\n            (a,b) => d3.descending(candidates.filter(x => x[0] == a.Elected_Id)[0][1],\n            candidates.filter(x => x[0] == b.Elected_Id)[0][1]))\n        let yScale = d3\n            .scaleBand()\n            .domain(electeds.map(d=>d.First_Name +\" \"+ d.Last_Name))\n            .range(candidates.length > 1 ? [self.local.margin.top, \n                height - self.local.margin.bottom]:[self.local.margin.top,60])\n            .paddingInner(self.local.paddingInner);\n        let xScale = d3\n            .scaleLinear()\n            .domain([0,most[1]])\n            .range([self.local.margin.left, width - self.local.margin.right]);\n        let yAxis = d3.axisLeft(yScale).tickSize(0)\n            .tickPadding(20).tickValues(electeds.map(d=>d.First_Name +\" \"+ d.Last_Name));\n        let svg = self.element\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n        //append rects\n        let bars = svg\n            .selectAll(\"g.bar\")\n            .data(candidates)\n            .join(\n                enter =>\n                    enter\n                    .append(\"g\")\n                    .attr(\"class\", \"bar barPol\")\n                    .call(enter => enter.append(\"rect\"))\n                    .call(enter => enter.append(\"text\")),\n                    \n            update => update,\n            exit => exit.remove()\n            )\n        \n        bars\n            .attr(\n                \"transform\",\n                d => `translate(${xScale(0)}, ${yScale(\n                    electeds.filter( x => x.Elected_Id == d[0])[0].First_Name + \" \" + electeds.filter( x => x.Elected_Id == d[0])[0].Last_Name\n                    )})`\n            )\n        bars\n            .select(\"rect\")\n            .transition()\n            .duration(0)\n            .attr(\"height\", yScale.bandwidth())\n            .attr(\"width\", d => xScale(d[1])- xScale(0))\n            .attr(\"id\", d => \"candidate\"+d[0] )\n\n        bars\n            .select(\"text\")\n            .attr(\"class\",\"label\")\n            .attr(\"dy\", yScale.bandwidth()/2+4)\n            .attr(\"x\", d=>xScale(d[1])-xScale(0)+10)\n            .text(d => `$${self.local.format(d[1])}`)\n        \n        // append Y axis\n        let g = svg.append(\"g\")\n            g.attr(\"class\", \"axis-left\")\n            .attr(\"transform\", `translate(${xScale(0)},0)`)\n            .call(yAxis)\n            .select(\".domain\").remove()\n            g.selectAll(\".tick text\")\n            .classed(\"tick-donors\", true)    \n        }\n    }\n   \n    \n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\nimport * as d3 from 'd3';\n\n\nexport default class CorruptNetwork extends Component {\n    constructor() {\n        super({\n            store,\n            element: d3.select(\"#corruption\"),\n        });\n        this.local = { \n            format: d3.format(\",.\" + d3.precisionFixed(1) + \"f\"),\n            paddingInner : 0.2,\n            duration : 1000,\n            margin : { top: 20, bottom: 20, left: 300, right:140 },\n        }\n    }\n\n    /**\n     * React to state changes and render the component's HTML\n     *\n     * @returns {void}\n     */\n    render() {\n        let self = this;\n        self.element.selectAll(\"*\").remove()\n        console.log(\"corrupt tree rendering\")\n        let width = self.element.node().getBoundingClientRect().width\n        let height = self.element.node().getBoundingClientRect().height-50\n\n        /* Get the donor bar chart data*/ \n        self.element.append(\"div\")\n            .attr(\"class\",\"header-2\")\n            .text(\"Explore Cuomo's $890K from 90 Healthcare Organizations\")\n        self.element.append(\"div\")\n            .text(\"You can move the donors around if they get in the way.\")\n        \n        let donorColors = d3.scaleSequential(d3.interpolatePuBu).domain([0, 90])\n        \n\n        /* Tree adapted from: M Bostock - https://observablehq.com/@d3/force-directed-tree */\n        let root = d3\n            .hierarchy(store.state.cuomoDonors) // children accessor, tell it to grab the second element\n        let links = root.links()\n        let nodes = root.descendants()\n        console.log(\"nodes\", nodes)\n        const simulation = d3.forceSimulation(nodes)\n            .force(\"link\", d3.forceLink(links).id(d => d.id).distance(150).strength(1))\n            .force(\"charge\", d3.forceManyBody().strength(-200))\n            .force(\"x\", d3.forceX())\n            .force(\"y\", d3.forceY());\n\n        // Tool tip adapted from: https://observablehq.com/@sethuram975351/force-directed-tree-with-zoom-and-tooltip-addons\n        let Tooltip = self.element\n            .append(\"div\")\n            .attr(\"class\", \"tooltip\")\n            .style(\"font-size\",\"14px\")\n            .style(\"pointer-events\",\"none\");\n\n        let mouseover = (d)=>{\n            d3.select(\"#circle\"+d.index)\n                .transition()\n                .duration(self.local.duration)\n                .attr(\"r\", d=>d.children?10:d.data.total/750)\n            Tooltip.transition()\n                .duration(self.local.duration)\n                .style(\"opacity\", 1);\n\n            Tooltip.html(()=>{\n                let innerTableContent;\n                if(d.children){\n                    innerTableContent =\n                        \"<tr>\"+\n                        \"<th scope='row'>\"+d.data.name+\"</th><td> recieved $\"+self.local.format(d.data.total)+\"</td>\"+\n                        \"</tr>\"\n\n                }else{\n                    innerTableContent =\n                    \"<tr>\"+\n                    \"<th scope='row'>\"+d.data.name+\"</th>\"+ \"<td> paid Cuomo $\"+self.local.format(d.data.total)+\"</td>\"+\n                    \"</tr>\"\n                }\n                return \"<div class='card bg-dark'>\"+\"<div class='card-body'>\"+\n                    \"<table class='table table-striped table-dark'>\"+\n                    \"<tbody>\"+\n                    innerTableContent +\n                    \"</tbody>\" +\n                    \"</table>\"+\n                    \"</div></div>\";\n            }).style(\"left\", (d3.event.pageX + 15) + \"px\")\n            .style(\"top\", (d3.event.pageY - 200) + \"px\");\n        };\n\n        let mouseout = (d) => {\n            d3.select(\"#circle\"+d.index)\n                .transition()\n                .duration(self.local.duration)\n                .attr(\"r\", d=>d.children?10:d.data.total/1000)\n            Tooltip.transition()\n                .duration(self.local.duration)\n                .style(\"opacity\", 0);\n        };\n        \n        \n        let svg = self.element\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .attr(\"viewBox\", [-width / 2, -height / 2, width, height]);\n        \n        let link = svg.append(\"g\")\n            .attr(\"stroke\", \"#999\")\n            .attr(\"stroke-opacity\", 0.6)\n            .selectAll(\"line\")\n                .data(links)\n                .join(\"line\");\n        \n        const node = svg.append(\"g\")\n            .attr(\"fill\", \"#fff\")\n            .attr(\"stroke\", \"#000\")\n            .attr(\"stroke-width\", 2.5)\n            .style(\"cursor\", \"pointer\")\n            .selectAll(\"circle\")\n                .data(nodes)\n                .join(\"circle\")\n                    .attr(\"fill\", d => d.children ? null : donorColors(90-d.index))\n                    .attr(\"stroke\", d => d.children ? null : \"#000\")\n                    .attr(\"r\", d => d.children ? 10 : d.data.total/1000)\n                    .attr(\"id\",d=>\"circle\"+d.index)\n                    .on(\"mouseover\", mouseover)\n                    .on(\"mouseout\", mouseout)\n                    .call(drag(simulation));\n\n\n        simulation.on(\"tick\", () => {\n            link\n                .attr(\"x1\", d => d.source.x)\n                .attr(\"y1\", d => d.source.y)\n                .attr(\"x2\", d => d.target.x)\n                .attr(\"y2\", d => d.target.y);\n        \n            node\n                .attr(\"cx\", d => d.x)\n                .attr(\"cy\", d => d.y);\n        })\n        \n        function drag(simulation) {\n\n            function dragstarted(d) {\n            if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n            d.fx = d.x;\n            d.fy = d.y;\n            }\n            \n            function dragged(d) {\n            d.fx = d3.event.x;\n            d.fy = d3.event.y;\n            }\n            \n            function dragended(d) {\n            if (!d3.event.active) simulation.alphaTarget(0);\n            d.fx = null;\n            d.fy = null;\n            }\n            \n            return d3.drag()\n                .on(\"start\", dragstarted)\n                .on(\"drag\", dragged)\n                .on(\"end\", dragended);\n        }\n        \n    }\n}\n        \n   \n    \n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\nimport {x, y} from \"./simulation\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","\n\n// Data\nimport cuomoDonors from './data/cuomo_healthcare_donors.json'\nimport topDonors from \"./data/top_donor_filings.csv\"\nimport electeds from  \"./data/Electeds_List.csv\"\nimport donorNames from \"./data/donor_list.csv\"\nimport quartiles from \"./data/donor_quartiles.csv\"\nimport donors from './data/donors_summarized_2015_20.csv'\n\nimport store from './js/store/index.js'; \nimport NumberHeader from \"./js/components/numberheader1.js\"\nimport DonorScrolly from \"./js/components/donorscrolly.js\"\nimport CandidateScrolly from \"./js/components/candidatescrolly.js\"\nimport CorruptScrolly from \"./js/components/corruptscrolly.js\"\nimport SectionHeader from './js/components/sectionheader.js'\nimport CandidateBar from './js/components/candidatebar.js'\nimport CorruptNetwork from './js/components/corruptnetwork.js';\n\n\n/*Promise.all([\"./data/donors_summarized_2015_20.csv\",\"./data/top_donor_filings.csv\"]).then(function(files) {\n    d3.csv(files[0], d3.autoType).then(donors => {\n        store.dispatch('addDonors', donors)\n        init()\n    })\n})*/\n\nfunction init() {\n\n    let numberHeader = new NumberHeader()\n    numberHeader.render()\n\n    store.dispatch('addDonors', donors)\n    store.dispatch('addTopDonors', topDonors);\n    store.dispatch('addElecteds', electeds)\n    store.dispatch('addDonorNames', donorNames)\n    store.dispatch('addCuomoDonors', cuomoDonors)\n    store.dispatch('addQuartiles', quartiles)\n\n    let corruptScrolly = new CorruptScrolly()\n    corruptScrolly.render()\n    \n    let biggestdonors = new SectionHeader(\"biggestdonors\")\n    biggestdonors.render(\"Who Pays Thousands of $$$?\", \"The vast majority of the money comes from people with more than $500\\\n    to throw around. What about those top 1%-ers? Who are those 429 donors? Who do they represent? What do they want?\")\n    \n    let donorScrolly=new DonorScrolly()\n    donorScrolly.render()\n    \n    let beneficiaries = new SectionHeader(\"beneficiaries\")\n    beneficiaries.render(\"Who Benefits?\", \"$100 million is a lot of money. Where is it going? Who has \\\"earned\\\" it?\")\n\n    let candidateScrolly = new CandidateScrolly()\n    candidateScrolly.render()\n\n    let candidateBar = new CandidateBar()\n    candidateBar.render()\n    \n    let doesitmatter = new SectionHeader(\"doesitmatter\")\n    doesitmatter.render(\"Does it Matter?\", \"All that money to those who make our laws. Does it matter? Does it impact who is \\\n    protected by laws, who benefits from them, and who doesn't?  Here is an example from the pandemic.\\\n    <br><br><a target='_blank' href='https://www.nytimes.com/2020/05/13/nyregion/nursing-homes-coronavirus-new-york.html'><img src='./data/img/nyt_article.png'/></a><br> Cuomo's office snuck in a last minute addition to the budget in April, a\\\n     limitation on the liability for health care facilities,\\\n     including nursing homes. Members of the Senate and Assembly are working to pass bills to\\\n      overturn this. At the time of the budget negotiations, he had already issued an executive order that exempted workers from\\\n       malpractice suits. This language, buried on page 347 of the budget bill, is just about protecting\\\n      the ownership of these facilities. Right now you cannot sue the owners and operators of these facilities for negligence due to\\\n      the ways in which they ran the facilities before or during the pandemic. <br><br> In the last five years, Cuomo has gotten over\\\n      $894,400 directly from the healthcare organizations this provision protects and medical liability insurance companies that would \\\n      have had to pay for settlements. Those donations are shown below.\\\n        Note that this does not include any payments\\\n      given by individuals who may own or occupy leadership positions in these organizations.\")\n    \n    let corruptNetwork = new CorruptNetwork()\n    corruptNetwork.render()\n\n    let closing = new SectionHeader(\"closing\")\n    closing.render(\"All this is legal. Is it corrupt?\", \"It is well documented that the wealthy have a strangle-hold on what\\\n    legislation is considered and passes.  None of this is \\\"new news.\\\" To explore further exactly who has paid money to the \\\n    current politicians you can check out the <a href='https://bit.ly/WhoPaysNY' target='_blank'>Who Pays NY? Interactive Tool</a> that allows you \\\n    to compare the donors between politicians.\\\n    <div class='header-2'>Does it have to be this way?</div>\\\n    The Bernie campaign in 2016 was a testing ground for a new kind of politics,\\\n    one in which corporate donations were not accepted, and the average contribution to the campaign was $27. While some money is crucial\\\n    to get a campaign going, the act of reaching voters can be done by volunteers, other voters, not by expensive T.V. ads or mailed flyers.\\\n    In 2018, Alexandria Ocasio-Cortez ran with this model and upset the Deputy Speaker of the House of Representatives.\\\n    Julia Salazar ran on this model, plus an expanded refusal to accept donations from real-estate and beat an incumbant to become state Senator. \\\n    In 2019, Tiffany Cabán ran for District Attorney\\\n    in Queens with this model and came within 55 votes of winning a campaign in which her opponent \\\n    <a href='https://thecity.nyc/2019/07/caban-beats-katz-in-latest-fundraising-and-legal-spending.html' target='_blank'>outspent her five\\\n     to one</a>.<br><br>The swearing off of real-estate money\\\n      <a href='https://nypost.com/2020/01/09/stringer-shuns-real-estate-money-for-mayor-bid-after-already-collecting-1m/' target='_blank'>has become vogue</a>\\\n     for politicians who are running for Mayor of New York City in 2021.<br><br>\\\n     There are now at least <a href='https://www.jacobinmag.com/2020/05/meet-new-yorks-socialist-insurgents' target='_blank'>\\\n     six candidates</a> who are running to represent New York in 2020, vowing off of corporate donations and \\\n     real-estate money. In addition to Salazar, they include Samelys Lopez for the House of Representatives District 15 seat in the Bronx, \\\n     Zohran Mamdani running for assembly in Queens, Phara Souffrant Forrest and Marcela Mitanyes running for assembly in Brooklyn, and\\\n     Jabari Brisport running for state senate in Brooklyn. \\\n     \")\n}\ninit()\n\n"],"names":["[object Object]","context","payload","commit","addTopDonors","state","topDonors","addElecteds","electeds","addDonorNames","donorNames","addTopCandidates","topCandidates","addDonors","donors","addCuomoDonors","cuomoDonors","addQuartiles","quartiles","setCandidateColors","candidateColors","Store","params","self","this","actions","mutations","status","callbacks","hasOwnProperty","Proxy","initialState","set","key","value","processCallbacks","actionKey","console","error","mutationKey","newState","data","forEach","callback","push","summary","total_money","total_candidates","total_donors","Component","props","render","store","subscribe","element","a","b","NaN","compare","f","ascending","length","d","x","values","valueof","n","i","sum","slice","Array","prototype","translateX","translateY","y","number","scale","center","offset","Math","max","bandwidth","round","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","ticks","apply","domain","format","identity","spacing","range","range0","range1","position","copy","selection","path","selectAll","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","call","tickSize","axisLeft","noop","dispatch","t","test","Error","Dispatch","parseTypenames","typenames","types","trim","split","map","name","indexOf","type","get","c","concat","constructor","on","typename","T","that","args","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","empty","querySelectorAll","matches","update","EnterNode","parent","datum","_next","_parent","__data__","appendChild","child","insertBefore","next","bindIndex","group","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","join","splice","contains","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","o","j","m","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","sourceEvent","dispatchEvent","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","Selection","groups","parents","_groups","_parents","source","current","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","touches","identifier","touch","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","DragEvent","target","subject","id","active","dx","dy","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","listeners","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","mousemoved","mouseupped","nodrag","noclick","setTimeout","yesdrag","clearTimeout","s","sublisteners","p0","constant","clickDistance","sqrt","factory","extend","definition","Object","create","Color","subgroups","subnode","subgroup","selectorAll","match","matcher","size","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","groups0","groups1","m0","m1","min","merges","group0","group1","sort","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","property","classed","html","creator","before","deep","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","toString","h","Hsl","hslConvert","hsl2rgb","m2","gamma","nogamma","pow","exponential","linear","define","channels","assign","displayable","formatHsl","brighter","darker","rgbGamma","start","end","colorRgb","spline","rgbBasis","floor","v1","v2","v0","v3","t1","t2","t3","basis","colors","genericArray","nb","na","Date","setTime","reA","reB","am","bm","bs","bi","lastIndex","q","one","zero","date","ArrayBuffer","isView","DataView","isNumberArray","numberArray","isArray","valueOf","object","cssNode","cssRoot","cssView","svgNode","degrees","PI","rotate","skewX","scaleX","scaleY","e","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","taskHead","taskTail","interpolateTransformCss","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","Infinity","sleep","nap","poke","clearInterval","setInterval","elapsed","stop","TypeError","emptyOn","emptyTween","timing","schedules","__transition","tween","duration","ease","init","schedule","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","children","inherit","id0","id1","styleNull","listener0","undefined","styleMaybeRemove","removeFunction","Promise","resolve","reject","cancel","interrupt","defaultTiming","ascendingComparator","bisector","Map","Set","has","clear","keys","entries","proto","random","tree","xm","ym","xp","yp","right","bottom","_root","leaf","x0","_x0","y0","_y0","x1","_x1","y1","_y1","_x","_y","defaultX","defaultY","quadtree","Quadtree","addAll","leaf_copy","treeProto","find","nodeById","nodeId","cover","xz","yz","z","visit","extent","radius","x2","y2","x3","y3","quads","Quad","d2","retainer","removeAll","visitAfter","initialAngle","toExponential","coefficient","formatDecimal","abs","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","width","comma","precision","exponent","%","toFixed","toPrecision","formatRounded","X","toUpperCase","locale","formatPrefix","prefixes","grouping","thousands","Number","substring","reverse","currencyPrefix","currency","currencySuffix","decimal","numerals","replace","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","padding","step","count","hierarchy","childs","Node","valued","defaultChildren","depth","eachBefore","computeHeight","copyData","height","formatLocale","eachAfter","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","links","circles","array","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","r1","r2","x21","y21","r21","r3","a2","a3","b2","b3","c2","c3","d1","d3","ab","A","C","place","intersects","score","circle","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","aa","ca","sj","sk","pack","enclose","packEnclose","translateChild","custom","ratio","squarify","row","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","rows","dice","treemapDice","treemapSlice","squarifyRatio","tile","paddingStack","paddingInner","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","positionNode","roundNode","paddingOuter","bisectRight","lo","hi","mid","ceil","e10","e5","e2","tickIncrement","power","log","LN10","initRange","initInterpolator","interpolator","implicit","ordinal","unknown","band","ordinalRange","rescale","sequence","rangeRound","unit","normalize","clamper","bimap","d0","r0","polymap","bisect","clamp","continuous","untransform","piecewise","output","input","interpolateValue","invert","interpolateRound","u","transformer","step0","step1","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","nice","k10","sequential","scheme","interpolateRgbBasis","ramp","NumberHeader","super","d3.select","d3.format","d3.precisionFixed","rollup","reduce","nest","rollups","from","regroup","keyof","greatest","defined","DonorBar","margin","d3array.rollup","d3.sum","Total","Cluster_ID","most","d3array.greatest","d3.descending","yScale","d3\n            .scaleBand","Name","xScale","d3\n            .scaleLinear","yAxis","d3.axisLeft","bars","DonorBubble","donor","donorName","donations","recipients","d3array.rollups","Candidate_ID","uniqueCandidates","d3\n                .scaleOrdinal","d3.schemeCategory10","d3\n            .hierarchy","d3\n        .pack","Elected_Id","Last_Name","SidePanel","header","body","titleClass","bodyClass","getOffsetId","setup","offsetVal","stepEl","stepClass","el","className","borderTop","zIndex","fontSize","fontFamily","setupOffset","notifyStep","elA","getElementById","elB","display","scrollama","OBSERVER_NAMES","cb","io","stepOffsetHeight","stepOffsetTop","stepStates","offsetMargin","viewH","pageH","previousYOffset","progressThreshold","isReady","isEnabled","isDebug","progressMode","preserveOrder","triggerOnce","direction","exclude","err","msg","reset","stepEnter","stepExit","stepProgress","getOffsetTop","pageYOffset","getIndex","updateDirection","disconnectObserver","disconnect","handleResize","innerHeight","scrollHeight","offsetHeight","clientHeight","getPageHeight","updateIO","post","idVal","innerText","bug.update","handleEnable","enable","notifyStepProgress","progress","resp","notifyOthers","location","ss","notifyStepEnter","notifyStepExit","dir","check","bug.notifyStep","intersectStepAbove","entry","isIntersecting","boundingClientRect","topAdjusted","bottomAdjusted","intersectStepBelow","intersectViewportAbove","intersectViewportBelow","intersectStepProgress","intersectionRatio","updateStepProgressIO","rootMargin","threshold","createThreshold","obs","IntersectionObserver","observe","viewportAbove","marginTop","marginBottom","viewportBelow","stepAbove","stepBelow","anyScrollableParent","nodeType","overflowY","isYScrollable","S","debug","once","generateInstanceID","Element","NodeList","scrollableParent","foundScrollable","offsetTrigger","bug.setup","resize","disable","destroy","onStepEnter","onStepExit","onStepProgress","IntersectionObserverEntry","defineProperty","registry","crossOriginUpdater","crossOriginRect","THROTTLE_TIMEOUT","POLL_INTERVAL","USE_MUTATION_OBSERVER","_setupCrossOriginUpdater","intersectionRect","convertFromParentRect","observer","_checkForIntersections","_resetCrossOriginUpdater","_observationTargets","some","item","_registerInstance","_monitorIntersections","unobserve","_unmonitorIntersections","_unregisterInstance","_unmonitorAllIntersections","takeRecords","records","_queuedEntries","_initThresholds","opt_threshold","_parseRootMargin","opt_rootMargin","margins","parts","parseFloat","doc","win","_monitoringDocuments","monitoringInterval","domObserver","addEvent","MutationObserver","attributes","childList","characterData","subtree","_monitoringUnsubscribes","removeEvent","getFrameElement","rootDoc","itemDoc","unsubscribe","unsubscribes","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","targetRect","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","rootBounds","_hasCrossedThreshold","_callback","getParentNode","atRoot","parentRect","parentComputedStyle","frameRect","frameIntersect","overflow","computeRectIntersection","clientWidth","_expandRectByRootMargin","_rootMarginValues","newRect","oldRatio","thresholds","containsDeep","ensureDOMRect","targetArea","intersectionArea","opt_options","options","fn","throttle","opt_useCapture","attachEvent","detatchEvent","rect1","rect2","parentBoundingRect","parentIntersectionRect","host","assignedSlot","frameElement","DonorScrolly","donorScrolly","figure","scroller","stepH","figureHeight","figureMarginTop","d3.selectAll","Stickyfill","response","side","d3.scaleSequential","d3.interpolateYlOrRd","CandidateScrolly","pols","DonorTree","d3\n            .treemap","QuartileTree","Quartile","CorruptScrolly","totals","total","donorTree","unhide","donorTreeDense","hide","halves","Header","SectionHeader","headertext","div","CandidateBar","candidates","topIds","includes","First_Name","CorruptNetwork","donorColors","d3.interpolatePuBu","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","iterations","force","fx","vx","fy","vy","initializeNodes","angle","cos","sin","initializeForce","initialize","closest","d3.forceSimulation","strengths","distances","bias","strength","link","distance","jiggle","initializeStrength","initializeDistance","d3.forceLink","distanceMin2","distanceMax2","theta2","accumulate","quad","weight","w","distanceMin","distanceMax","theta","d3.forceManyBody","d3.forceX","d3.forceY","Tooltip","innerTableContent","d3.event","pageX","pageY","d3.drag"],"mappings":"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"}